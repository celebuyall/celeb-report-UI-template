# PRD 01. 데이터 추출 프롬프트 (DashboardData → fandom/content)

## 지시문
위의 데이터 스키마 규칙(DashboardData → fandom/content)에 따라, 아래 2개의 보고서를 하나의 `data.ts`로 변환하라.

## [핵심 원칙: 요약이 아니라 “무손실 배치(Placement)”]
- 목표는 핵심 키워드 요약이 아니라, 보고서의 문장/근거/맥락을 최대한 보존하여 스키마 필드에 “옮겨 담는 것”이다.
- label/value처럼 짧은 필드를 제외한 모든 텍스트 필드(description/desc/detail/meaning/reason/interpretation/context/guide 등)는 반드시 아래 4요소를 포함하는 “문단형”으로 작성하라.
  (1) 주장(무엇이 특징/문제/전략인가)
  (2) 근거(수치/비율/관찰/사례/표현/콘텐츠 코드 등 원문 근거)
  (3) 해석(왜 중요한가, 비즈니스적 의미)
  (4) 적용(브랜드/콘텐츠/협업으로 무엇을 해야 하는가)
- 각 문단형 텍스트는 최소 2~4문장(일부 핵심 필드는 4~7문장)으로 작성하라. 키워드 나열로 끝내지 마라.
- 숫자/비율/증감/순위/상위%는 원문 그대로 유지(콤마/단위 포함). 값이 없을 때도 빈 문자열은 금지이며,
  "보고서 미기재 (추정 불가)" 또는 근거+한계를 명시하라.
- 중요 키워드는 **강조** 표기를 활용하라.
- 문단형 텍스트 필드(설명/해석/전략/인사이트 등)는 **최소 1개 이상 강조**를 반드시 포함한다. (라벨/수치/짧은 키워드 필드는 강조 금지)
- 채널 핵심 콘텐츠 페이지(content.*)의 각 문단형 항목도 **최소 1개 이상 강조**를 반드시 포함한다.
- **UI 코드/프론트 코드 생성 금지.** 출력은 `data.ts` 데이터만 포함한다.

## [입력 구조 고정: 보고서는 2개]
- Report A = 팬덤/커머스 KPI 보고서 (KPI → Audience Fit → Engagement → Core Definition → Top3 → Funnel → SWOT → Executive Summary)
- Report B = 콘텐츠/브랜딩 전략 보고서 (서론 → Core Logic → Minimum Requirements → 전략 1~4 → 종합 결론)
- 출력은 하나의 `dashboardData`로 통합하되, `fandom`은 Report A 중심, `content`는 Report B 중심으로 채워라.
- 동일 주제가 두 보고서에 모두 있으면 더 구체적/근거가 많은 쪽을 우선하고, 필요 시 문장으로 결합해 더 풍부하게 만들어라.

## [필수 입력 메타: 플랫폼 구분]
- 보고서 본문에 플랫폼/계정 정보가 없을 수 있으므로, 아래 메타를 **반드시 함께 제공**한다.
- 이 메타가 없으면 `profile.platform`, `profile.handle`, `profile.profileUrl`을 정확히 채울 수 없으므로 실패로 간주한다.
- 아래 3개 필드는 **모두 필수**이며, 누락 시 출력 실패로 처리한다.

```
[Profile Meta]
Platform: Instagram 또는 YouTube
Handle: @계정아이디
Profile URL: https://... (실제 계정 링크)
```

## [데이터 스키마]
```ts
export type Tone = 'brand' | 'purple' | 'blue' | 'indigo' | 'slate' | 'pink' | 'emerald' | 'yellow';
export type IconName = string;

export interface DashboardData {
  meta: {
    lastUpdated?: string;
  };
  fandom: FandomData;
  content: ContentData;
}

export interface TagItem {
  label: string;
  tone: Tone;
}

export interface FandomData {
  profile: {
    displayName: string;
    tags: TagItem[];
    platform: string;
    handle: string;
    profileUrl: string;
    stats: {
      followers: string;
      avgViews: string;
    };
    commerceDNA: {
      subtitleLines: [string, string];
      cards: {
        label: string;
        title: string;
        subtitle: string;
        tone: Tone;
        icon: IconName;
      }[];
    };
  };
  kpi: {
    scaleAndReach: {
      label: string;
      value: string;
      sub: string;
      highlight?: boolean;
      tone?: Tone;
    }[];
    audienceFit: {
      distribution: { label: string; value: number }[];
      mainTarget: { label: string; percent: string };
      coreSegment: { label: string; percent: string };
      notes: string[];
    };
    engagement: {
      avgLikes: { value: string; rate: string };
      avgComments: { value: string; rate: string };
      commentLikeRatio: string;
      engagementRate: { value: string; note: string };
      formatShare: { value: string; note: string };
    };
  };
  coreDefinition: {
    headline: string;
    badgeLabel: string;
    description: string;
  };
  evidence: {
    title: string;
    subtitle: string;
    description: string;
    icon: IconName;
  }[];
  deepDive: {
    id: number;
    icon: IconName;
    title: string;
    mainValue: string;
    subValue?: string;
    reasonTitle: string;
    reason: string;
    insightTitle: string;
    insight: string;
  }[];
  funnel: {
    title: string;
    subtitle: string;
    steps: {
      step: string;
      title: string;
      subtitle: string;
      description: string;
      icon: IconName;
      highlight?: boolean;
    }[];
  };
  buyingTriggers: {
    relationship: {
      title: string;
      icon: IconName;
      quote: string;
      description: string;
      tags: string[];
    };
    motivation: {
      title: string;
      icon: IconName;
      points: { label: string; quote: string }[];
      keyTrigger: string;
    };
  };
  swot: {
    opportunity: SwotCard;
    risk: SwotCard;
  };
  executiveSummary: {
    title: string;
    subtitle: string;
    description: string;
    tag: string;
    tone: Tone;
    icon: IconName;
  }[];
}

export interface SwotCard {
  badge: string;
  title: string;
  tone: Tone;
  observation: { label: string; text: string; icon: IconName };
  strategyName: { title: string; subtitle: string };
  logic: string;
  actionPlan: { title: string; description: string; icon: IconName }[];
  expectedEffect: string;
}

export interface ContentData {
  hero: {
    badgeLabel: string;
    confidentialLabel: string;
    displayName: string;
    mainTitle: string;
    subTitle: string;
    subjectBadge: { label: string; initials: string; handle: string };
  };
  intro: {
    title: string;
    paragraphs: string[];
  };
  coreLogic: {
    label: string;
    title: string;
    subTitle: string;
    quoteLines?: string[];
    bullets?: string[];
    highlightQuote?: string;
    description: string;
    tone: Tone;
    icon: IconName;
  }[];
  requirements: {
    title: string;
    subtitle: string;
    items: RequirementItem[];
  };
  strategies: StrategyItem[];
  conclusion: {
    title: string;
    subtitle: string;
    identityBanner: { quote: string; tagline: string };
    personaCards: { title: string; subtitle: string; description: string; tone: Tone; icon: IconName }[];
    winningFormula: { label: string; title: string; description: string; tag: string; tone: Tone }[];
    strategicVision: { label: string; headline: string; description: string };
  };
}

export interface RequirementItem {
  id: number;
  patternLabel: string;
  statusBadge: string;
  statusTone: Tone;
  title: string;
  subTitle: string;
  description: string;
  footer: { type: 'quotes' | 'checks'; items: string[] };
  icon: IconName;
  iconTone: Tone;
}

export interface StrategyItem {
  id: number;
  title: string;
  subTitle: string;
  icon: IconName;
  tone: Tone;
  keyItem: string;
  context: string;
  dataProof: string;
  spec: string;
  guide: { concept: string; intro: string; action: string; ment: string };
}
```

## [필수 제약: 스키마 개수 정확히 지키기]
- `profile.tags`: 2개
- `commerceDNA.cards`: 3개
- `commerceDNA.subtitleLines`: 2줄
- `kpi.scaleAndReach`: 6개
- `kpi.audienceFit.distribution`: 2개 (합계 100)
- `evidence`: 2개
- `deepDive`: 3개
- `funnel.steps`: 4개
- `buyingTriggers.motivation.points`: 2개
- `swot.opportunity.actionPlan`: 2개
- `swot.risk.actionPlan`: 2개
- `executiveSummary`: 3개
- `coreLogic`: 3개
- `requirements.items`: 3개
- `strategies`: 4개
- `personaCards`: 2개
- `winningFormula`: 3개

## [형식 제약]
- Commerce DNA 라벨은 UI에서 하드코딩되므로, 데이터는 `subtitleLines`/`cards`만 채운다.
- `commerceDNA.subtitleLines`는 **커머스 핵심 키워드 2개**를 각각 한 줄로 배치한다. (각 줄은 단어/짧은 구 수준, 장문/문장 금지)
- `commerceDNA.cards`는 좌→우 순서가 **Identity → Action → Trigger**로 고정이며, `label` 값도 동일한 영문을 사용한다.
- `commerceDNA.cards` 의미 규칙:
  - Identity: 채널의 **정체성/포지션**을 요약(전문가/큐레이터/문제해결형 등).
  - Action: 팬덤의 **행동/참여 방식**을 요약(질문/리뷰/재구매/공유 등).
  - Trigger: **구매/전환 촉발 요인**을 요약(논리/효능/가격/신뢰/타이밍 등).
- `commerceDNA.cards`의 `title`/`subtitle`은 **한 줄 길이의 짧은 표현**으로 작성한다. (장문/복수 문장 금지)
- `content.strategies[]`는 **핵심 콘텐츠 전략 블록**이므로 간략 요약 금지. `context`/`dataProof`/`spec`/`guide.*`는 각각 **최소 3~5문장**으로 작성하고, 실행 방식/콘텐츠 구성/근거 데이터/예시 장면까지 구체적으로 포함한다.
- `profile.handle`는 반드시 `@` 포함.
- `profile.profileUrl`은 `https://`로 시작하며, `profile.platform`과 `profile.handle`에 대응되는 실제 계정 링크여야 한다.
- `profile.platform`은 `Instagram` 또는 `YouTube`만 허용한다. (대소문자 동일)
- `kpi.audienceFit.distribution`의 `label`은 **`여성`, `남성`만 허용**하며, 부가 설명/괄호 금지.
- `kpi.audienceFit.mainTarget.percent`와 `coreSegment.percent`는 **숫자+%** 형식만 허용 (예: `33.7%`, `60%`; `~60%` 금지).
- `swot.opportunity.badge`는 **`Opportunity Boosting`**, `swot.risk.badge`는 **`Risk Management`**로 고정한다.
- `kpi.engagement.engagementRate.value`는 **숫자+%** 형식만 허용하며, `note`는 한 문장으로 작성한다.
- `kpi.engagement.formatShare.value`는 **`숏폼 {퍼센트} / 피드 {퍼센트}`** 형식으로 작성하고, `note`는 한 문장으로 작성한다.
- `funnel.steps`는 `01 → 02 → 03 → 04` 순서 고정. `highlight`는 4단계에만 사용.
- `requirements.footer.type` 매칭: Pattern 01, 03 → `quotes`(2문장), Pattern 02 → `checks`(3개 항목).
- `executiveSummary`는 3개 고정 순서: Market Dominance → Data Confidence → Winning Strategy.
- `coreLogic`는 3개 고정 순서: Background → Persona → Core Strategy.
- 고정 개수 배열은 부족하면 미기재로 채우고, 초과하면 중요도 순으로 잘라낸다.
- `icon`은 허용 목록 중 하나만 사용한다.
- `meta.lastUpdated`는 보고서에 날짜가 있을 때만 채운다. 여러 날짜가 있으면 최신 날짜로 선택한다. 날짜가 없으면 생략한다.

## [아이콘 허용 목록]
`TrendingUp`, `Users`, `Eye`, `MessageCircle`, `Heart`, `MousePointerClick`, `Target`, `ArrowUpRight`, `BadgeCheck`, `BarChart3`, `Share2`, `Bookmark`, `AlertCircle`, `Zap`, `Lock`, `Search`, `Layers`, `Instagram`, `Youtube`, `ExternalLink`, `Download`, `User`, `Magnet`, `Repeat`, `ShoppingBag`, `Sparkles`, `Quote`, `Lightbulb`, `MessageSquareText`, `Crown`, `Rocket`, `ScanFace`, `Microscope`, `BrainCircuit`, `GraduationCap`, `CheckCircle2`, `ShieldCheck`, `ThermometerSnowflake`, `MoveHorizontal`, `Scissors`, `Ruler`, `Fingerprint`, `PlayCircle`, `Box`, `AlertTriangle`, `Megaphone`, `MousePointer2`, `Anchor`, `Scale`, `FileText`, `ArrowRight`, `FileBarChart2`, `BookOpen`, `ChevronRight`, `LayoutTemplate`, `Camera`, `Clapperboard`

## [누락 방지 규칙(중요)]
- 보고서 문단이 애매하게 남으면 절대 버리지 말고 아래 우선순위로 긴 텍스트 필드에 흡수해 포함하라.
  1) 실행/운영/파트너십/시스템 → `content.conclusion.strategicVision.description`
  2) 채널 정의/팬덤 문제/서사 → `fandom.coreDefinition.description` 또는 `content.intro.paragraphs[]`
  3) 지표 해석/전환 의미 → `fandom.deepDive[].insight` 또는 `fandom.executiveSummary[].description`
  4) 장면/대사/연출/사례 → `content.strategies[].guide.*`

## [출력]
- 아래 형식의 TypeScript 코드만 출력하라(설명 금지).
- **출력 파일은 `data.ts` 단일 파일만 허용**한다. 다른 파일/섹션/코드블록/메타정보 생성 금지.
- `...`, `TBD`, `N/A` 같은 플레이스홀더 금지.

```ts
// data.ts
import { DashboardData } from './types';

export const dashboardData: DashboardData = {
  meta: { },
  fandom: { ... },
  content: { ... }
};
```

[Profile Meta]
```
(여기에 플랫폼/핸들/링크 입력)
Platform: Instagram or Youtube
Handle: @haaarpeeer
Profile URL: https://www.instagram.com/haaarpeeer/
```

[Report A: 팬덤/커머스 KPI 보고서]
```
(여기에 보고서 A 전문 붙여넣기)
```

[Report B: 콘텐츠/브랜딩 전략 보고서]
```
(여기에 보고서 B 전문 붙여넣기)
```
